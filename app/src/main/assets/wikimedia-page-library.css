/* Examples:
  - Barack Obama's collapsed infobox:

    <div class=app_table_container>
      <div class='app_table_collapsed_container app_table_collapsed_open'
        style='display: block'>
        <strong>Quick facts</strong><span class=app_span_collapse_text>: 44th
          President of the United States, Vice President …</span>
      </div>
      <table class='infobox vcard'
        style='width: 22em; margin-top: 0px; margin-bottom: 0px; display: none'>
        <tbody>
          <tr>
            <th colspan=2
              style='text-align: center; font-size: 125%; font-weight: bold; font-size: 130%'>
              <span class=fn>Barack Obama</span>
            </th>
          </tr>
          ...
        </tbody>
      </table>
      <div class='app_table_collapsed_bottom app_table_collapse_icon'
        style='display: none'>
        Close
      </div>
    </div>

  - Frankenstein's monster's expanded infobox:

    <div class=app_table_container>
      <div class='app_table_collapsed_container app_table_collapse_close app_table_collapse_icon'
        style='display: block'>
        <strong>Quick facts</strong><span class=app_span_collapse_text>: Created
          by, Information …</span>
      </div>
      <table class=infobox
        style='width: 22em; border-spacing: 2px 5px; margin-top: 0px; margin-bottom: 0px; display: block'>
        <tbody>
          <tr>
            <th colspan=2
              style='text-align: center; font-size: 125%; font-weight: bold; background: #dedee2;'>
              Frankenstein's monster
            </th>
          </tr>
          ...
        </tbody>
      </table>
      <div class='app_table_collapsed_bottom app_table_collapse_icon'
        style='display: block'>
        Close
      </div>
    </div>

  - Dracula's collapsed notes and references:

    <div class=app_table_container>
      <div class='app_table_collapsed_container app_table_collapsed_open'
        style='display: block'>
        <strong class=app_table_collapsed_caption>Tap to expand</strong>
      </div>
      <div class='reflist references-column-width'
        style='column-width: 30em; list-style-type: decimal; padding: 4px; display: none'>
          ...
      </div>
      <div class='app_table_collapsed_bottom app_table_collapse_icon'
        style='display: none'>
        Close
      </div>
    </div>
*/

.content table.infobox {
  font-size: 100%;
  border-style: none !important;
}

table.infobox caption {
  text-align: center;
  font-weight: bold;
}

/* The outermost table container. todo: rename. */
.app_table_container {
  width: 100%;
  margin-top: 14px;
  margin-bottom: 14px;
  border-radius: 2px;
  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.12), 0 0 1px 0 rgba(0, 0, 0, 0.18);
  clear: both;
}

/* The outermost table container's header. todo: rename. */
.app_table_collapsed_container {
  width: 100%;
  padding: 12px 48px 12px 12px;
  line-height: 120%;
  background-color: #f8f8f8;
  background-repeat: no-repeat;
  background-position: 95% 50%;
  background-size: 16px 16px;
}

/* The outermost table container header's subcaption text. todo: rename. */
.app_span_collapse_text {
  color: #808080;
}

/* The outermost table container's footer. todo: rename. */
.app_table_collapsed_bottom {
  width: 100%;
  color: #808080;
  padding: 12px 48px 12px 12px;
  line-height: 120%;
  border-radius: 0 0 2px 2px;
  background-color: #f8f8f8;
  background-repeat: no-repeat;
  background-position: 95% 50%;
  background-size: 16px 16px;
}
.app_table_collapse_icon {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4zjOaXUAAAAoBJREFUaEPtmE1uE0EQhW3Mzyk4iiU4AFn6BJbtvbfeIIQEAUEUCEnE/58ImCQCIRCSxVk4AGyyYwN5L+qOxuXXM90zthCiS/ricXV11avunhkrrWzZsmXLlu2fttlstjJGo9GN4XB4VY0tC+lcBhC+Dv6QwWBwTcUsA+lsCgTf9uI92I3rKrYp0tkECL1jxXt4pNScJkhnXSByw4oWrKu5dZHOOuDYbAqxEh4xlaMO0pkKjsZ9JbQMHjWVKxXpTKANMQ+suAQ2RM4kpDOSNlZxW4hK5Z7IHY10RsCV3zVCaoN7Yos5TY0opLOCNgo+VEIEn8EX45NwN5nb1KpEOkN0u90zKPRYCRB8Go/HFwivzViIXdRJakI6FRSPlX8iiio+gPN+Lq/BRzdWCncXc6KbkE6LW/lnqqDgoNfrnbM56MPYoYmVcJdZ0+ZQSGcRJkLSF7ZIgOlkMjmr8hDXxL6ZE+JpTBPS6UGSDrb0lUkcYq9MvIcxiH1n5kpQ+3lVE9JJkKADXhcTlsC4jsqjcE3sFeYHwXF6ic9gbunkBHT/ppioBB6vaPEezgGNF2jBwdVB129NghBR5zQE5nfcCqvcc7gFXWhi7kvK+QSPmoj3MEfsE44La++z0wsn/r2dFCD5hVOGayL2BTn3pDv54x5vByZQgq2s/bulgpSfKPv+XZP0gkGBTVN02bCJHVVbcEjtvJGmZkCCxHdFwVXAJraUBsGUDayBXwXnAjift0ShlcLdVloKUPOaD76CL0eFQc9vjK3sfzpVoPZNajCayBE1M+Y0uN/vX3TP5O/gJ/iGoMt+/G8BTZeg5Sv4QW3USK1+PFu2bNmyZcuW7f+1VusYzYvU+uNoBCAAAAAASUVORK5CYII=);
}

/* The outermost table container's collapsed header. todo: rename. */
.app_table_collapsed_open {
  border-radius: 2px;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4zjOaXUAAAAoZJREFUaEPtmE1uE0EQhceEn1NwFEtwALL0CSzbe2+9QQgJAoKI8BeF8I8ImCQCIRCSxVk4QNhkxwZ4z+qOespvPNMzYxCiS/ricVVX1evpnukkWbJkyZIlS5Ys2f9ss9lsTr/fPz8ajV4Mh8Nv4Dv4OhgMLvr43wKaLkDLF3BEbdRIrT4+/wGhlxA8Br8MPxG74gf/adD7OjUYTeSYmjkmw5d18CMILoBZ37DFVw0E3lFaAqh5nROYBs5CUPC2arQCOuh1T2kQTLNer3cGF4cmIOFdEQ3bhOIfqt6CQ2qfJ7pJHJgBEt4dNgqatgXF76iegn1qZt5JgclkchqBd2ZgEdts6HOb0u12T+E52xV9FFNq9bm5Qm4Sb01CEY/YOMyvgxP/VNRfAOPehOJJrhjhAA5UBQRPmkwC+WvoxbNH1c6B7fUan2u2Ru6LhwNdgixmeA4WCpfBHPDK1SiD42SPBYeHCS5RFbQUNlC4rboX5BfiVqiwtnR6mIiVeBkWXMKe3Z+KmOcMvZ+VbVHpDGEBFOM2kU0MuTeExb2u901OEZWeL+m0xLwpwIF/R4c48ZUOTPTarfpykE4FC2JJH6uGgvfgrM/lNfjgYktBjx3kVD5jpLMItxJVD5yP4/H4HOG1iRURfUBKZwkxR/4n8Nn4JLgxD1jb9CpFOivQQdNtK6IuuCG1f7+Szop0eNeUoEi2RO3KSGcEXIn7RlAMm6JmFNIZC1birhC3FOTcUrVikc46YB+X/Ql4AsbeVDXqIJ11gbhNK1awoXLrIp1N4NYQoucgdk3lNEE6m8ItIsRfVWObIp1tANEbXjwmtLL/LUlnW3DLYAKXVawtkiVLlixZsn/Ysuw35enU+iMlJaQAAAAASUVORK5CYII=);
}

/* The outermost table container's expanded header. todo: rename. */
.app_table_collapse_close {
  border-radius: 2px 2px 0 0;
}

/* Temporary fix to prevent right side of collapsed tables from extending
   offscreen. todo: fix, add an example, or remove. */
.app_table_container, .app_table_collapsed_container, .app_table_collapse_close,
.app_table_collapse_icon {
  box-sizing: border-box;
}
/* Transform lifecycle:
  - Original:
    <img style='width: 1px; height: 2px' src=/>

  - Transformed to a lazily loaded placeholder image (add class, preserve attributes, replace
    source, and override width and height):
    <img class=pagelib-lazy-load-image-pending
      style='width: 1px !important; height: 2px !important' src=data: data-src=/
      data-width-value=1px data-width-priority= data-height-value=2px data-height-priority=>

  - Downloading immediately after a call to LazyLoadTransform.loadImage() (unchanged).

  - Loaded after original image has downloaded (replace content with original and loading class with
    loaded):
    <img class=pagelib-lazy-load-image-loaded style='width: 1px; height: 2px' src=/>

  Colors from: https://phabricator.wikimedia.org/source/wikimedia-ui-base/browse/master/wikimedia-ui-base.css;d19168ec6d4995561c0a1d2dd59eb8b3f1577a5a.
*/

/* LazyLoadTransform.PENDING_CLASS. Note: width and height are set as inline styles and derived
   first from any preexisting width and height inline style and then from width and height
   attributes, if specified. See transform lifecycle above. */
.pagelib-lazy-load-image-pending {
  background-color: #eaecf0;
}

.dark .pagelib-lazy-load-image-pending {
  /* todo: reevaluate whether important priority is necessary when consolidating dark mode, T164311. */
  background-color: #72777d !important;
}

/* LazyLoadTransform.LOADED_CLASS. */
.pagelib-lazy-load-image-loaded {
  -webkit-animation: pagelib-lazy-load-image-fade-in .3s ease-in;
  animation: pagelib-lazy-load-image-fade-in .3s ease-in;
}

@-webkit-keyframes pagelib-lazy-load-image-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes pagelib-lazy-load-image-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
.wideImageOverride {
  /* Center images. */
  display: block;
  margin-left: auto;
  margin-right: auto;
  /* Ensure widening can take effect with proportional height change */
  height: auto !important;
}

@media (orientation: portrait) {
  .wideImageOverride {
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
  }

  /* Tablet override */
  @media (min-device-width: 768px) {
    .wideImageOverride {
      width: 60% !important;
      max-width: 60% !important;
      height: auto !important;
    }
  }
}

@media (orientation: landscape) {
  .wideImageOverride {
    width: 50% !important;
    max-width: 50% !important;
    height: auto !important;
  }
}

/* Center text beneath images now that images are centered. */
.thumbinner, .gallerytext {
  text-align: center;
}

/* Parsoid: center text beneath images now that images are centered. */
figcaption {
  text-align: center;
}

/* Add a little breathing room beneath thumb captions - see enwiki "Vincent van Gogh > Paris (1886-1888)" */
.thumbcaption {
  margin-bottom: 1.5em !important;
}

/* Wrangle extra margin - see enwiki "Claude Monet > Impressionism" */
li.gallerybox div.thumb > div {
  margin: 0px !important;
}
div.gallerytext > p {
  margin-top: 0px !important;
}